<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Demo</title>
<script src="https://www.lactame.com/lib/ml/6.0.0/ml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/12.4.2/math.min.js"></script>
<style>
body{font-family:Arial,Helvetica,sans-serif;background:#222;color:#eee;margin:0;padding:2rem;}
button{margin-right:1rem;margin-bottom:1rem;padding:0.5rem 1rem;}
</style>
</head>
<body>
<button onclick="trainXORNetwork()">Train XOR</button>
<button onclick="runRegression()">Run Regression</button>
<button onclick="runBayesian()">Run Bayes</button>
<button onclick="runDecisionTree()">Run Tree</button>
<pre id="ml-results"></pre>
<script>
let xorModel;
function trainXORNetwork(){
  const data=[
    {input:[0,0],output:[0]},
    {input:[0,1],output:[1]},
    {input:[1,0],output:[1]},
    {input:[1,1],output:[0]}
  ];
  xorModel=new ML.NeuralNetwork({layers:[2,3,1],activation:'tanh',learningRate:0.5});
  xorModel.train(data,{epochs:2000});
  const results=data.map(d=>({input:d.input,prediction:xorModel.predict(d.input)[0]}));
  document.getElementById('ml-results').textContent=JSON.stringify(results,null,2);
}
function runRegression(){
  const X=math.matrix([[0,1],[1,2],[2,3]]);
  const y=math.matrix([0,1,2]);
  const regression=new ML.MultivariateLinearRegression(X.toArray(),y.toArray());
  const pred=regression.predict([3,4]);
  const coeffs={weights:regression.weights,intercept:regression.intercept};
  document.getElementById('ml-results').textContent='Prediction for [3,4]: '+pred+'\n'+JSON.stringify(coeffs,null,2);
}
function runBayesian(){
  const features=[[0],[1],[2]];
  const labels=[0,1,1];
  const nb=new ML.NaiveBayes({modelType:'gaussian'});
  nb.train(features,labels);
  const prediction=nb.predict([[1.5]]);
  document.getElementById('ml-results').textContent='Predicted class for 1.5: '+prediction;
}
function runDecisionTree(){
  const clf=new ML.DecisionTreeClassifier({gainFunction:'gini',maxDepth:3});
  const X=[[0],[1],[2],[3]];
  const y=[0,0,1,1];
  clf.train(X,y);
  const prediction=clf.predict([[1.5]]);
  document.getElementById('ml-results').textContent='Tree class for 1.5: '+prediction;
}
</script>
</body>
</html>
