<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>V24 Complete PESTLE-Maxwell AI Framework - Fixed</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.11.0/dist/tf.min.js"></script>
<script>
(async()=>{await tf.setBackend("webgl");await tf.ready();console.log("TensorFlow.js backend:",tf.getBackend());})();
</script>
<script src="https://www.lactame.com/lib/ml/6.0.0/ml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/12.4.2/math.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
<style>
/* minimal styles for brevity */
body{margin:0;background:#0a0a0a;color:#e2e8f0;font-family:sans-serif;}
.panel{background:rgba(15,23,42,0.9);border:1px solid rgba(148,163,184,0.2);border-radius:16px;padding:20px;}
</style>
</head>
<body>
<div id="ui-overlay" class="panel">
<button onclick="trainXORNetwork()">Train XOR</button>
<button onclick="runRegression()">Regression</button>
<button onclick="runBayesian()">Bayesian</button>
<button onclick="runDecisionTree()">Decision Tree</button>
<div id="ml-results"></div>
</div>
<script>
let xorModel;
async function trainXORNetwork(){
  const xs=tf.tensor2d([[0,0],[0,1],[1,0],[1,1]]);
  const ys=tf.tensor2d([[0],[1],[1],[0]]);
  xorModel=tf.sequential();
  xorModel.add(tf.layers.dense({units:3,activation:"tanh",inputShape:[2]}));
  xorModel.add(tf.layers.dense({units:1,activation:"sigmoid"}));
  xorModel.compile({optimizer:tf.train.adam(0.1),loss:"binaryCrossentropy"});
  await xorModel.fit(xs,ys,{epochs:200,shuffle:true});
  const preds=xorModel.predict(xs).round();
  preds.array().then(a=>{document.getElementById("ml-results").textContent="XOR trained: "+JSON.stringify(a);});
}
function runRegression(){
  const features=[[0,1],[1,2],[2,3]];const labels=[0,1,2];
  const regression=new ML.MultivariateLinearRegression(features,labels);
  document.getElementById('ml-results').textContent='Regression ready';
}
function runBayesian(){
  const nb=new ML.NaiveBayes({modelType:'Gaussian'});
  nb.train([[0],[1],[2]],[0,1,1]);
  document.getElementById('ml-results').textContent='Bayesian trained';
}
function runDecisionTree(){
  const clf=new ML.DecisionTreeClassifier({gainFunction:'gini',maxDepth:3});
  clf.train([[0],[1],[2]],[0,1,1]);
  document.getElementById('ml-results').textContent='Tree trained';
}
</script>
</body>
</html>
